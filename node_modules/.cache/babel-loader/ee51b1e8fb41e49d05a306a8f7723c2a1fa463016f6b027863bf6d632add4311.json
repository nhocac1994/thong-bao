{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isSubscribed,setIsSubscribed]=useState(false);const[subscription,setSubscription]=useState(null);const[registration,setRegistration]=useState(null);const[notificationPermission,setNotificationPermission]=useState('default');const[testStatus,setTestStatus]=useState('');const[vapidPublicKey,setVapidPublicKey]=useState('');useEffect(()=>{// Ki·ªÉm tra quy·ªÅn th√¥ng b√°o\nif('Notification'in window){setNotificationPermission(Notification.permission);}// L·∫•y VAPID public key t·ª´ server\nfetchVapidPublicKey();// L·∫•y service worker registration\nif('serviceWorker'in navigator){navigator.serviceWorker.ready.then(reg=>{setRegistration(reg);// Ki·ªÉm tra subscription hi·ªán t·∫°i\nreg.pushManager.getSubscription().then(sub=>{if(sub){setIsSubscribed(true);setSubscription(sub);}});});}},[]);const fetchVapidPublicKey=async()=>{try{const response=await fetch('/.netlify/functions/send-notification?type=vapid-public-key');if(response.ok){const data=await response.json();setVapidPublicKey(data.publicKey);console.log('VAPID public key ƒë√£ ƒë∆∞·ª£c l·∫•y:',data.publicKey);}else{console.error('Kh√¥ng th·ªÉ l·∫•y VAPID public key');}}catch(error){console.error('L·ªói khi l·∫•y VAPID public key:',error);}};const requestNotificationPermission=async()=>{try{const permission=await Notification.requestPermission();setNotificationPermission(permission);if(permission==='granted'){console.log('Quy·ªÅn th√¥ng b√°o ƒë√£ ƒë∆∞·ª£c c·∫•p');setTestStatus('‚úÖ Quy·ªÅn th√¥ng b√°o ƒë√£ ƒë∆∞·ª£c c·∫•p!');setTimeout(()=>setTestStatus(''),3000);}else{console.log('Quy·ªÅn th√¥ng b√°o b·ªã t·ª´ ch·ªëi');setTestStatus('‚ùå Quy·ªÅn th√¥ng b√°o b·ªã t·ª´ ch·ªëi');setTimeout(()=>setTestStatus(''),3000);}}catch(error){console.error('L·ªói khi y√™u c·∫ßu quy·ªÅn th√¥ng b√°o:',error);setTestStatus('‚ùå L·ªói khi y√™u c·∫ßu quy·ªÅn th√¥ng b√°o');setTimeout(()=>setTestStatus(''),3000);}};const subscribeToNotifications=async()=>{try{if(!registration){setTestStatus('‚ùå Service Worker ch∆∞a s·∫µn s√†ng');setTimeout(()=>setTestStatus(''),3000);return;}if(!vapidPublicKey){setTestStatus('‚ùå VAPID public key ch∆∞a s·∫µn s√†ng');setTimeout(()=>setTestStatus(''),3000);return;}setTestStatus('ƒêang ƒëƒÉng k√Ω...');const sub=await registration.pushManager.subscribe({userVisibleOnly:true,applicationServerKey:urlBase64ToUint8Array(vapidPublicKey)});console.log('ƒêƒÉng k√Ω th√†nh c√¥ng:',sub);setSubscription(sub);setIsSubscribed(true);// G·ª≠i subscription l√™n server\nawait sendSubscriptionToServer(sub);setTestStatus('‚úÖ ƒêƒÉng k√Ω th√¥ng b√°o th√†nh c√¥ng!');setTimeout(()=>setTestStatus(''),3000);}catch(error){console.error('L·ªói khi ƒëƒÉng k√Ω:',error);setTestStatus(\"\\u274C L\\u1ED7i khi \\u0111\\u0103ng k\\xFD: \".concat(error.message));setTimeout(()=>setTestStatus(''),5000);}};const unsubscribeFromNotifications=async()=>{try{if(subscription){await subscription.unsubscribe();setSubscription(null);setIsSubscribed(false);console.log('ƒê√£ h·ªßy ƒëƒÉng k√Ω th√†nh c√¥ng');setTestStatus('‚úÖ ƒê√£ h·ªßy ƒëƒÉng k√Ω th√†nh c√¥ng!');setTimeout(()=>setTestStatus(''),3000);}}catch(error){console.error('L·ªói khi h·ªßy ƒëƒÉng k√Ω:',error);setTestStatus('‚ùå L·ªói khi h·ªßy ƒëƒÉng k√Ω');setTimeout(()=>setTestStatus(''),3000);}};const sendSubscriptionToServer=async sub=>{try{const response=await fetch('/api/save-subscription',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(sub)});if(response.ok){console.log('Subscription ƒë√£ ƒë∆∞·ª£c l∆∞u tr√™n server');}else{console.error('L·ªói khi l∆∞u subscription');}}catch(error){console.error('L·ªói khi g·ª≠i subscription l√™n server:',error);}};const urlBase64ToUint8Array=base64String=>{try{// Th√™m padding n·∫øu c·∫ßn\nconst padding='='.repeat((4-base64String.length%4)%4);const base64=(base64String+padding).replace(/-/g,'+').replace(/_/g,'/');const rawData=window.atob(base64);const outputArray=new Uint8Array(rawData.length);for(let i=0;i<rawData.length;++i){outputArray[i]=rawData.charCodeAt(i);}return outputArray;}catch(error){console.error('L·ªói khi decode VAPID key:',error);throw new Error('VAPID key kh√¥ng h·ª£p l·ªá');}};const sendTestNotification=async()=>{setTestStatus('ƒêang g·ª≠i th√¥ng b√°o...');try{// G·ª≠i th√¥ng b√°o tr·ª±c ti·∫øp n·∫øu c√≥ quy·ªÅn\nif(Notification.permission==='granted'){new Notification('üîî Th√¥ng b√°o test',{body:'ƒê√¢y l√† th√¥ng b√°o test tr·ª±c ti·∫øp t·ª´ tr√¨nh duy·ªát!',icon:'/icon.svg',badge:'/icon.svg',vibrate:[100,50,100],tag:'test-notification',requireInteraction:true});setTestStatus('‚úÖ Th√¥ng b√°o test ƒë√£ ƒë∆∞·ª£c g·ª≠i th√†nh c√¥ng!');}// G·ª≠i th√¥ng b√°o qua server n·∫øu ƒë√£ ƒëƒÉng k√Ω\nif(isSubscribed){const response=await fetch('/api/send-notification',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({title:'üöÄ Th√¥ng b√°o test t·ª´ server',body:'ƒê√¢y l√† th√¥ng b√°o test ƒë∆∞·ª£c g·ª≠i qua server!',icon:'/icon.svg'})});if(response.ok){const result=await response.json();setTestStatus(\"\\u2705 Th\\xF4ng b\\xE1o server: \".concat(result.successful,\" th\\xE0nh c\\xF4ng, \").concat(result.failed,\" th\\u1EA5t b\\u1EA1i\"));}else{setTestStatus('‚ùå L·ªói khi g·ª≠i th√¥ng b√°o qua server');}}}catch(error){console.error('L·ªói khi g·ª≠i th√¥ng b√°o test:',error);setTestStatus('‚ùå L·ªói khi g·ª≠i th√¥ng b√°o test');}// X√≥a th√¥ng b√°o status sau 5 gi√¢y\nsetTimeout(()=>setTestStatus(''),5000);};const sendLocalNotification=()=>{if(Notification.permission==='granted'){new Notification('üì± Th√¥ng b√°o local',{body:'ƒê√¢y l√† th√¥ng b√°o local kh√¥ng c·∫ßn server!',icon:'/icon.svg',badge:'/icon.svg',vibrate:[200,100,200],tag:'local-notification',requireInteraction:false});setTestStatus('‚úÖ Th√¥ng b√°o local ƒë√£ ƒë∆∞·ª£c g·ª≠i!');setTimeout(()=>setTestStatus(''),3000);}else{setTestStatus('‚ùå C·∫ßn quy·ªÅn th√¥ng b√°o ƒë·ªÉ g·ª≠i th√¥ng b√°o local');setTimeout(()=>setTestStatus(''),3000);}};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDD14 \\u1EE8ng d\\u1EE5ng Push Notification\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"notification-status\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCCA Tr\\u1EA1ng th\\xE1i th\\xF4ng b\\xE1o\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDD10 Quy\\u1EC1n: \",notificationPermission]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDCDD \\u0110\\u0103ng k\\xFD: \",isSubscribed?'‚úÖ ƒê√£ ƒëƒÉng k√Ω':'‚ùå Ch∆∞a ƒëƒÉng k√Ω']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDD11 VAPID Key: \",vapidPublicKey?'‚úÖ S·∫µn s√†ng':'‚è≥ ƒêang t·∫£i...']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"notification-controls\",children:[notificationPermission==='default'&&/*#__PURE__*/_jsx(\"button\",{onClick:requestNotificationPermission,className:\"btn btn-primary\",children:\"\\uD83D\\uDD10 Y\\xEAu c\\u1EA7u quy\\u1EC1n th\\xF4ng b\\xE1o\"}),notificationPermission==='granted'&&!isSubscribed&&vapidPublicKey&&/*#__PURE__*/_jsx(\"button\",{onClick:subscribeToNotifications,className:\"btn btn-success\",children:\"\\uD83D\\uDCDD \\u0110\\u0103ng k\\xFD nh\\u1EADn th\\xF4ng b\\xE1o\"}),isSubscribed&&/*#__PURE__*/_jsx(\"button\",{onClick:unsubscribeFromNotifications,className:\"btn btn-danger\",children:\"\\uD83D\\uDEAB H\\u1EE7y \\u0111\\u0103ng k\\xFD th\\xF4ng b\\xE1o\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-notification-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83E\\uDDEA Test Notifications\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"test-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:sendLocalNotification,className:\"btn btn-warning\",children:\"\\uD83D\\uDCF1 G\\u1EEDi th\\xF4ng b\\xE1o local\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendTestNotification,className:\"btn btn-info\",children:\"\\uD83D\\uDE80 G\\u1EEDi th\\xF4ng b\\xE1o test\"})]}),testStatus&&/*#__PURE__*/_jsx(\"div\",{className:\"test-status \".concat(testStatus.includes('‚úÖ')?'success':testStatus.includes('‚ùå')?'error':'info'),children:testStatus})]}),notificationPermission==='denied'&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u274C Quy\\u1EC1n th\\xF4ng b\\xE1o \\u0111\\xE3 b\\u1ECB t\\u1EEB ch\\u1ED1i. Vui l\\xF2ng b\\u1EADt l\\u1EA1i trong c\\xE0i \\u0111\\u1EB7t tr\\xECnh duy\\u1EC7t.\"})}),!vapidPublicKey&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u26A0\\uFE0F VAPID key ch\\u01B0a s\\u1EB5n s\\xE0ng. Vui l\\xF2ng \\u0111\\u1EE3i ho\\u1EB7c refresh trang.\"})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","App","isSubscribed","setIsSubscribed","subscription","setSubscription","registration","setRegistration","notificationPermission","setNotificationPermission","testStatus","setTestStatus","vapidPublicKey","setVapidPublicKey","window","Notification","permission","fetchVapidPublicKey","navigator","serviceWorker","ready","then","reg","pushManager","getSubscription","sub","response","fetch","ok","data","json","publicKey","console","log","error","requestNotificationPermission","requestPermission","setTimeout","subscribeToNotifications","subscribe","userVisibleOnly","applicationServerKey","urlBase64ToUint8Array","sendSubscriptionToServer","concat","message","unsubscribeFromNotifications","unsubscribe","method","headers","body","JSON","stringify","base64String","padding","repeat","length","base64","replace","rawData","atob","outputArray","Uint8Array","i","charCodeAt","Error","sendTestNotification","icon","badge","vibrate","tag","requireInteraction","title","result","successful","failed","sendLocalNotification","className","children","onClick","includes"],"sources":["/Users/quyennguyen/Documents/du-an-thong-bao/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nfunction App() {\n  const [isSubscribed, setIsSubscribed] = useState(false);\n  const [subscription, setSubscription] = useState(null);\n  const [registration, setRegistration] = useState(null);\n  const [notificationPermission, setNotificationPermission] = useState('default');\n  const [testStatus, setTestStatus] = useState('');\n  const [vapidPublicKey, setVapidPublicKey] = useState('');\n\n  useEffect(() => {\n    // Ki·ªÉm tra quy·ªÅn th√¥ng b√°o\n    if ('Notification' in window) {\n      setNotificationPermission(Notification.permission);\n    }\n\n    // L·∫•y VAPID public key t·ª´ server\n    fetchVapidPublicKey();\n\n    // L·∫•y service worker registration\n    if ('serviceWorker' in navigator) {\n      navigator.serviceWorker.ready.then((reg) => {\n        setRegistration(reg);\n        // Ki·ªÉm tra subscription hi·ªán t·∫°i\n        reg.pushManager.getSubscription().then((sub) => {\n          if (sub) {\n            setIsSubscribed(true);\n            setSubscription(sub);\n          }\n        });\n      });\n    }\n  }, []);\n\n  const fetchVapidPublicKey = async () => {\n    try {\n      const response = await fetch('/.netlify/functions/send-notification?type=vapid-public-key');\n      if (response.ok) {\n        const data = await response.json();\n        setVapidPublicKey(data.publicKey);\n        console.log('VAPID public key ƒë√£ ƒë∆∞·ª£c l·∫•y:', data.publicKey);\n      } else {\n        console.error('Kh√¥ng th·ªÉ l·∫•y VAPID public key');\n      }\n    } catch (error) {\n      console.error('L·ªói khi l·∫•y VAPID public key:', error);\n    }\n  };\n\n  const requestNotificationPermission = async () => {\n    try {\n      const permission = await Notification.requestPermission();\n      setNotificationPermission(permission);\n      \n      if (permission === 'granted') {\n        console.log('Quy·ªÅn th√¥ng b√°o ƒë√£ ƒë∆∞·ª£c c·∫•p');\n        setTestStatus('‚úÖ Quy·ªÅn th√¥ng b√°o ƒë√£ ƒë∆∞·ª£c c·∫•p!');\n        setTimeout(() => setTestStatus(''), 3000);\n      } else {\n        console.log('Quy·ªÅn th√¥ng b√°o b·ªã t·ª´ ch·ªëi');\n        setTestStatus('‚ùå Quy·ªÅn th√¥ng b√°o b·ªã t·ª´ ch·ªëi');\n        setTimeout(() => setTestStatus(''), 3000);\n      }\n    } catch (error) {\n      console.error('L·ªói khi y√™u c·∫ßu quy·ªÅn th√¥ng b√°o:', error);\n      setTestStatus('‚ùå L·ªói khi y√™u c·∫ßu quy·ªÅn th√¥ng b√°o');\n      setTimeout(() => setTestStatus(''), 3000);\n    }\n  };\n\n  const subscribeToNotifications = async () => {\n    try {\n      if (!registration) {\n        setTestStatus('‚ùå Service Worker ch∆∞a s·∫µn s√†ng');\n        setTimeout(() => setTestStatus(''), 3000);\n        return;\n      }\n\n      if (!vapidPublicKey) {\n        setTestStatus('‚ùå VAPID public key ch∆∞a s·∫µn s√†ng');\n        setTimeout(() => setTestStatus(''), 3000);\n        return;\n      }\n\n      setTestStatus('ƒêang ƒëƒÉng k√Ω...');\n\n      const sub = await registration.pushManager.subscribe({\n        userVisibleOnly: true,\n        applicationServerKey: urlBase64ToUint8Array(vapidPublicKey)\n      });\n\n      console.log('ƒêƒÉng k√Ω th√†nh c√¥ng:', sub);\n      setSubscription(sub);\n      setIsSubscribed(true);\n\n      // G·ª≠i subscription l√™n server\n      await sendSubscriptionToServer(sub);\n      \n      setTestStatus('‚úÖ ƒêƒÉng k√Ω th√¥ng b√°o th√†nh c√¥ng!');\n      setTimeout(() => setTestStatus(''), 3000);\n    } catch (error) {\n      console.error('L·ªói khi ƒëƒÉng k√Ω:', error);\n      setTestStatus(`‚ùå L·ªói khi ƒëƒÉng k√Ω: ${error.message}`);\n      setTimeout(() => setTestStatus(''), 5000);\n    }\n  };\n\n  const unsubscribeFromNotifications = async () => {\n    try {\n      if (subscription) {\n        await subscription.unsubscribe();\n        setSubscription(null);\n        setIsSubscribed(false);\n        console.log('ƒê√£ h·ªßy ƒëƒÉng k√Ω th√†nh c√¥ng');\n        setTestStatus('‚úÖ ƒê√£ h·ªßy ƒëƒÉng k√Ω th√†nh c√¥ng!');\n        setTimeout(() => setTestStatus(''), 3000);\n      }\n    } catch (error) {\n      console.error('L·ªói khi h·ªßy ƒëƒÉng k√Ω:', error);\n      setTestStatus('‚ùå L·ªói khi h·ªßy ƒëƒÉng k√Ω');\n      setTimeout(() => setTestStatus(''), 3000);\n    }\n  };\n\n  const sendSubscriptionToServer = async (sub) => {\n    try {\n      const response = await fetch('/api/save-subscription', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(sub)\n      });\n      \n      if (response.ok) {\n        console.log('Subscription ƒë√£ ƒë∆∞·ª£c l∆∞u tr√™n server');\n      } else {\n        console.error('L·ªói khi l∆∞u subscription');\n      }\n    } catch (error) {\n      console.error('L·ªói khi g·ª≠i subscription l√™n server:', error);\n    }\n  };\n\n  const urlBase64ToUint8Array = (base64String) => {\n    try {\n      // Th√™m padding n·∫øu c·∫ßn\n      const padding = '='.repeat((4 - base64String.length % 4) % 4);\n      const base64 = (base64String + padding)\n        .replace(/-/g, '+')\n        .replace(/_/g, '/');\n\n      const rawData = window.atob(base64);\n      const outputArray = new Uint8Array(rawData.length);\n\n      for (let i = 0; i < rawData.length; ++i) {\n        outputArray[i] = rawData.charCodeAt(i);\n      }\n      return outputArray;\n    } catch (error) {\n      console.error('L·ªói khi decode VAPID key:', error);\n      throw new Error('VAPID key kh√¥ng h·ª£p l·ªá');\n    }\n  };\n\n  const sendTestNotification = async () => {\n    setTestStatus('ƒêang g·ª≠i th√¥ng b√°o...');\n    \n    try {\n      // G·ª≠i th√¥ng b√°o tr·ª±c ti·∫øp n·∫øu c√≥ quy·ªÅn\n      if (Notification.permission === 'granted') {\n        new Notification('üîî Th√¥ng b√°o test', {\n          body: 'ƒê√¢y l√† th√¥ng b√°o test tr·ª±c ti·∫øp t·ª´ tr√¨nh duy·ªát!',\n          icon: '/icon.svg',\n          badge: '/icon.svg',\n          vibrate: [100, 50, 100],\n          tag: 'test-notification',\n          requireInteraction: true\n        });\n        setTestStatus('‚úÖ Th√¥ng b√°o test ƒë√£ ƒë∆∞·ª£c g·ª≠i th√†nh c√¥ng!');\n      }\n\n      // G·ª≠i th√¥ng b√°o qua server n·∫øu ƒë√£ ƒëƒÉng k√Ω\n      if (isSubscribed) {\n        const response = await fetch('/api/send-notification', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            title: 'üöÄ Th√¥ng b√°o test t·ª´ server',\n            body: 'ƒê√¢y l√† th√¥ng b√°o test ƒë∆∞·ª£c g·ª≠i qua server!',\n            icon: '/icon.svg'\n          })\n        });\n        \n        if (response.ok) {\n          const result = await response.json();\n          setTestStatus(`‚úÖ Th√¥ng b√°o server: ${result.successful} th√†nh c√¥ng, ${result.failed} th·∫•t b·∫°i`);\n        } else {\n          setTestStatus('‚ùå L·ªói khi g·ª≠i th√¥ng b√°o qua server');\n        }\n      }\n    } catch (error) {\n      console.error('L·ªói khi g·ª≠i th√¥ng b√°o test:', error);\n      setTestStatus('‚ùå L·ªói khi g·ª≠i th√¥ng b√°o test');\n    }\n\n    // X√≥a th√¥ng b√°o status sau 5 gi√¢y\n    setTimeout(() => setTestStatus(''), 5000);\n  };\n\n  const sendLocalNotification = () => {\n    if (Notification.permission === 'granted') {\n      new Notification('üì± Th√¥ng b√°o local', {\n        body: 'ƒê√¢y l√† th√¥ng b√°o local kh√¥ng c·∫ßn server!',\n        icon: '/icon.svg',\n        badge: '/icon.svg',\n        vibrate: [200, 100, 200],\n        tag: 'local-notification',\n        requireInteraction: false\n      });\n      setTestStatus('‚úÖ Th√¥ng b√°o local ƒë√£ ƒë∆∞·ª£c g·ª≠i!');\n      setTimeout(() => setTestStatus(''), 3000);\n    } else {\n      setTestStatus('‚ùå C·∫ßn quy·ªÅn th√¥ng b√°o ƒë·ªÉ g·ª≠i th√¥ng b√°o local');\n      setTimeout(() => setTestStatus(''), 3000);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>üîî ·ª®ng d·ª•ng Push Notification</h1>\n        \n        <div className=\"notification-status\">\n          <h2>üìä Tr·∫°ng th√°i th√¥ng b√°o</h2>\n          <p>üîê Quy·ªÅn: {notificationPermission}</p>\n          <p>üìù ƒêƒÉng k√Ω: {isSubscribed ? '‚úÖ ƒê√£ ƒëƒÉng k√Ω' : '‚ùå Ch∆∞a ƒëƒÉng k√Ω'}</p>\n          <p>üîë VAPID Key: {vapidPublicKey ? '‚úÖ S·∫µn s√†ng' : '‚è≥ ƒêang t·∫£i...'}</p>\n        </div>\n\n        <div className=\"notification-controls\">\n          {notificationPermission === 'default' && (\n            <button onClick={requestNotificationPermission} className=\"btn btn-primary\">\n              üîê Y√™u c·∫ßu quy·ªÅn th√¥ng b√°o\n            </button>\n          )}\n\n          {notificationPermission === 'granted' && !isSubscribed && vapidPublicKey && (\n            <button onClick={subscribeToNotifications} className=\"btn btn-success\">\n              üìù ƒêƒÉng k√Ω nh·∫≠n th√¥ng b√°o\n            </button>\n          )}\n\n          {isSubscribed && (\n            <button onClick={unsubscribeFromNotifications} className=\"btn btn-danger\">\n              üö´ H·ªßy ƒëƒÉng k√Ω th√¥ng b√°o\n            </button>\n          )}\n        </div>\n\n        <div className=\"test-notification-section\">\n          <h3>üß™ Test Notifications</h3>\n          <div className=\"test-buttons\">\n            <button onClick={sendLocalNotification} className=\"btn btn-warning\">\n              üì± G·ª≠i th√¥ng b√°o local\n            </button>\n            <button onClick={sendTestNotification} className=\"btn btn-info\">\n              üöÄ G·ª≠i th√¥ng b√°o test\n            </button>\n          </div>\n          {testStatus && (\n            <div className={`test-status ${testStatus.includes('‚úÖ') ? 'success' : testStatus.includes('‚ùå') ? 'error' : 'info'}`}>\n              {testStatus}\n            </div>\n          )}\n        </div>\n\n        {notificationPermission === 'denied' && (\n          <div className=\"error-message\">\n            <p>‚ùå Quy·ªÅn th√¥ng b√°o ƒë√£ b·ªã t·ª´ ch·ªëi. Vui l√≤ng b·∫≠t l·∫°i trong c√†i ƒë·∫∑t tr√¨nh duy·ªát.</p>\n          </div>\n        )}\n\n        {!vapidPublicKey && (\n          <div className=\"error-message\">\n            <p>‚ö†Ô∏è VAPID key ch∆∞a s·∫µn s√†ng. Vui l√≤ng ƒë·ª£i ho·∫∑c refresh trang.</p>\n          </div>\n        )}\n      </header>\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}